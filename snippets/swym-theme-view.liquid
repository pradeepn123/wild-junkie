<script>
  function swymCallbackFn(swat) {
    var counterElems = document.querySelectorAll(".swym-wishlist-header-counter")

    swat.evtLayer.addEventListener("sw:removedfromwishlist", function(e) {
      renderWishlistCounter(swat)
    })
  }

  function renderWishlistCounter(swat) {
    var counterElems = document.querySelectorAll(".swym-wishlist-header-counter")
    Array.from(counterElems).forEach(counterElem => {
      swat.renderWishlistCount(counterElem);
    })
  }

  if (!window.SwymCallbacks) {
    window.SwymCallbacks = [];
  }

  window.SwymCallbacks.push(swymCallbackFn);
  window.SwymCallbacks.push(renderWishlistCounter);
</script>
